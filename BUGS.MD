Фактические баги, обнаруженные в ходе тестирования https://qa-internship.avito.com.


BUG-01 — Сервис принимает отрицательную цену
Шаги:
1. Выполнить POST /api/1/item с price=-10
2. Передать валидные остальные поля  

Ожидаемый результат: 
400 Bad Request —  price не может быть отрицательной

Фактический результат:  
200 OK, объявление создаётся как корректное 

Статус: Потенциальная ошибка бизнес-логики  

BUG-02 — Для несуществующего sellerId сервис возвращает 200
Шаги: 
1. Выполнить GET /api/1/{randomSeller}/item
2. Передать валидные остальные поля
  
Ожидаемый результат: 
404 или 400  
Фактический результат: 
200 OK + пустой массив  

Комментарий: Это может быть нормой, но противоречит спецификации большинства REST-сервисов.

BUG-03 — Сервис иногда отвечает 504 на массовый тест (TC17)
Шаги:  
1. Создать 50 объявлений подряд  
2. Запросить GET /api/1/{seller}/item  

Фактический результат: 
иногда 504 Gateway Timeout  

Причина: сервис может не успевать записывать/индексировать данные.  


BUG-04 — Некорректные ID обрабатываются не всегда одинаково
ID вида "UNKNOWN_123" — 400  
ID вида "***" — тоже 400  
Но ID из пустой строки "" приводит к непредсказуемому поведению (зависит от сервера).

BUG-05 — API принимает sellerId вне диапазона

Шаги:
1. Выполнить POST /api/1/item с sellerId=10  
2. Передать валидные остальные поля  

Ожидаемый результат: 
400 Bad Request — sellerId должен быть в диапазоне 111111–999999  

Фактический результат:  
200 OK, объявление создаётся как корректное  

Комментарий: 
По заданию диапазон sellerId указан как обязательный для корректности данных.  
Фактическое поведение API нарушает правила валидации входных данных.  

Статус:  Тест TC07 отмечен @Disabled до исправления API.

BUG-06 — API принимает sellerId отрицательный

Шаги:
1. Выполнить POST /api/1/item с sellerId=10  
2. Передать валидные остальные поля  

Ожидаемый результат: 
400 Bad Request — sellerId должен быть в диапазоне 111111–999999  

Фактический результат:  
200 OK, объявление создаётся как корректное  

Комментарий: 
По заданию диапазон sellerId указан как обязательный для корректности данных.  
Фактическое поведение API нарушает правила валидации входных данных.  

Статус:  Тест TC07 отмечен @Disabled до исправления API.

BUG-07 — Сервис принимает отрицательные значения лайков, просмотров и контактов
Шаги:
1. Выполнить POST /api/1/item с likes, viewCount, contacts = <0
2. Передать валидные остальные поля  

Ожидаемый результат: 
400 Bad Request —  likes, viewCount, contacts не могут быть отрицательными

Фактический результат:  
200 OK, объявление создаётся как корректное

BUG-08 — Сервис не принимает нулевые значения лайков, просмотров, контактов при создании объявления
Шаги:
1. Выполнить POST /api/1/item с likes, viewCount, contacts = 0
2. Передать валидные остальные поля  

Ожидаемый результат: 
200 OK, объявление создаётся как корректное

Фактический результат:  
400 Bad Request —  likes, viewCount, contacts не могут быть нулевыми

Комментарий: 
Во всех остальных тестах likes, viewCount и contacts установлены значениями >1 для успешного прохождения тестов

